This is small help to know how Webdriver run JS.

Interface => JavascriptExecutor
Implemented by all drivers, so, if you cast, you can take.

2 method :

Synch run :
if you want to run immidiately
Async run:
it will run not concurrent with your page load rather later.

Parameters :
Both takes String as input... now, what you can put.
Simple JS functions, as simple as possible.
Anonymous fuctions
Single/multiple statement
Or even a Full JS file, it will read and get.

And, you can insert array of object as parameter.


Returns :

If the script has a return ,then
null -> null
a HTML element->WebElement
a decimal ->Double
non-decimal number->a Long
a boolean -> a Boolean
all other -> a String
an array->a List<Object> where each object following the rules (nested lists too)


How it works :
This is run fully in context. Example, you have a page => popup => frame => popup, so each context is different.
So, if you write JS for page, that will not work for the upper frame or popups. Infact , when you call this,JS will
run for each context. So, if you want to click a JS popup, so you need to consider ememt finding of the popup.
And you need to call the event that shows the popup then you can run the JS.
[If our project JS events are written in seperate util, you need to use scope wise, directly]

Best practices : (I follow)
1. Before running with selenium , run this in browser console (F12/ Devtools has JS console) , see if it is working, that will work with selenium
2. Check if the JS is compatible with different browser